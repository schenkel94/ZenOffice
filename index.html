<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZenOffice</title>
    
    <!-- Configurações PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { -webkit-tap-highlight-color: transparent; user-select: none; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 20px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
    </style>
</head>
<body class="bg-slate-900 text-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        // --- Ícones SVG Simplificados (Para não depender de bibliotecas externas) ---
        const Icons = {
            Moon: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>,
            Sun: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>,
            Play: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>,
            Pause: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>,
            RotateCcw: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>,
            Volume2: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>,
            VolumeX: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="23" x2="17" y1="9" y2="15"/><line x1="17" x2="23" y1="9" y2="15"/></svg>,
            CheckCircle: ({size=24}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            Trash2: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>,
            Plus: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Wind: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>,
            Smile: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>,
            Brain: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"/><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"/><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"/><path d="M3.477 10.896a4 4 0 0 1 .585-.396"/><path d="M19.938 10.5a4 4 0 0 1 .585.396"/><path d="M6 18a4 4 0 0 1-1.907-1.063"/><path d="M19.907 16.937A4 4 0 0 1 18 18"/></svg>,
            Coffee: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>,
            Layout: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>,
            QrCode: () => <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="5" height="5" x="3" y="3" rx="1"/><rect width="5" height="5" x="16" y="3" rx="1"/><rect width="5" height="5" x="3" y="16" rx="1"/><path d="M21 16h-3a2 2 0 0 0-2 2v3"/><path d="M21 21v.01"/><path d="M12 7v3a2 2 0 0 1-2 2H7"/><path d="M3 12h.01"/><path d="M12 3h.01"/><path d="M12 16v.01"/><path d="M16 12h1"/><path d="M21 12v.01"/><path d="M12 21v-1"/></svg>
        };

        const { useState, useEffect } = React;

        const ZenOffice = () => {
            const [darkMode, setDarkMode] = useState(true);
            const [activeTab, setActiveTab] = useState('focus');
            const [showDonation, setShowDonation] = useState(false);
            const [deferredPrompt, setDeferredPrompt] = useState(null);

            useEffect(() => {
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    setDeferredPrompt(e);
                });
            }, []);

            const installApp = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    setDeferredPrompt(null);
                }
            };

            const toggleTheme = () => setDarkMode(!darkMode);

            // --- Componentes ---
            
            const FocusMode = () => {
                const [timeLeft, setTimeLeft] = useState(25 * 60);
                const [isActive, setIsActive] = useState(false);
                const [mode, setMode] = useState('work');
                const [soundPlaying, setSoundPlaying] = useState(null);

                useEffect(() => {
                    let interval = null;
                    if (isActive && timeLeft > 0) {
                        interval = setInterval(() => setTimeLeft(timeLeft - 1), 1000);
                    } else if (timeLeft === 0) {
                        setIsActive(false);
                        // Tocar som real aqui se quisesse
                    }
                    return () => clearInterval(interval);
                }, [isActive, timeLeft]);

                const formatTime = (seconds) => {
                    const mins = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                };

                const setTimer = (newMode) => {
                    setIsActive(false);
                    setMode(newMode);
                    if (newMode === 'work') setTimeLeft(25 * 60);
                    if (newMode === 'shortBreak') setTimeLeft(5 * 60);
                    if (newMode === 'longBreak') setTimeLeft(15 * 60);
                };

                return (
                    <div className="flex flex-col items-center justify-center space-y-6 w-full max-w-md mx-auto animate-fadeIn mt-4">
                        <div className={`text-center space-y-1 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>
                            <h2 className="text-3xl font-bold tracking-tight">Modo Foco</h2>
                            <p className="opacity-70 text-sm">Gerencie sua energia.</p>
                        </div>

                        <div className="relative group">
                            <div className={`w-64 h-64 rounded-full border-8 flex items-center justify-center transition-all duration-500
                                ${isActive ? 'border-indigo-500 shadow-[0_0_30px_rgba(99,102,241,0.5)]' : (darkMode ? 'border-gray-700' : 'border-gray-200')}
                            `}>
                                <span className={`text-6xl font-mono font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                                    {formatTime(timeLeft)}
                                </span>
                            </div>
                        </div>

                        <div className="flex space-x-4">
                            <button 
                                onClick={() => setIsActive(!isActive)}
                                className="p-4 rounded-full bg-indigo-600 hover:bg-indigo-700 text-white transition-all shadow-lg hover:scale-105 active:scale-95"
                            >
                                {isActive ? <Icons.Pause /> : <Icons.Play />}
                            </button>
                            <button 
                                onClick={() => setTimer(mode)}
                                className={`p-4 rounded-full transition-all shadow-md
                                    ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}
                                `}
                            >
                                <Icons.RotateCcw />
                            </button>
                        </div>

                        <div className="flex space-x-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-xl">
                            {[
                                { id: 'work', label: 'Foco' },
                                { id: 'shortBreak', label: 'Pausa Curta' },
                                { id: 'longBreak', label: 'Pausa Longa' }
                            ].map((m) => (
                                <button
                                    key={m.id}
                                    onClick={() => setTimer(m.id)}
                                    className={`px-4 py-2 rounded-lg text-xs font-medium transition-colors
                                        ${mode === m.id 
                                            ? 'bg-indigo-500 text-white shadow-sm' 
                                            : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'}
                                    `}
                                >
                                    {m.label}
                                </button>
                            ))}
                        </div>
                    </div>
                );
            };

            const TaskManager = () => {
                const [tasks, setTasks] = useState(() => {
                    const saved = localStorage.getItem('zenTasks');
                    return saved ? JSON.parse(saved) : [
                        { id: 1, text: 'Verificar emails importantes', done: false },
                        { id: 2, text: 'Beber água', done: true },
                    ];
                });
                const [input, setInput] = useState('');

                useEffect(() => {
                    localStorage.setItem('zenTasks', JSON.stringify(tasks));
                }, [tasks]);

                const addTask = (e) => {
                    e.preventDefault();
                    if (!input.trim()) return;
                    setTasks([...tasks, { id: Date.now(), text: input, done: false }]);
                    setInput('');
                };

                const toggleTask = (id) => {
                    setTasks(tasks.map(t => t.id === id ? { ...t, done: !t.done } : t));
                };

                const deleteTask = (id) => {
                    setTasks(tasks.filter(t => t.id !== id));
                };

                return (
                    <div className="w-full max-w-md mx-auto animate-fadeIn h-full flex flex-col pt-4">
                        <h2 className="text-2xl font-bold mb-6">Organizador</h2>
                        
                        <form onSubmit={addTask} className="flex gap-2 mb-6">
                            <input
                                type="text"
                                value={input}
                                onChange={(e) => setInput(e.target.value)}
                                placeholder="Nova tarefa..."
                                className={`flex-1 p-3 rounded-xl outline-none border-2 transition-all
                                    ${darkMode 
                                        ? 'bg-gray-800 border-gray-700 focus:border-indigo-500 text-white placeholder-gray-500' 
                                        : 'bg-white border-gray-200 focus:border-indigo-500 text-gray-900'}
                                `}
                            />
                            <button 
                                type="submit"
                                className="p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-colors"
                            >
                                <Icons.Plus />
                            </button>
                        </form>

                        <div className="flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar pb-24">
                            {tasks.length === 0 && (
                                <div className="text-center py-10 opacity-40">
                                    <Icons.CheckCircle size={48} />
                                    <p className="mt-2">Tudo limpo!</p>
                                </div>
                            )}
                            {tasks.map(task => (
                                <div 
                                    key={task.id}
                                    className={`group flex items-center p-4 rounded-xl border transition-all duration-300
                                        ${darkMode 
                                            ? 'bg-gray-800 border-gray-700' 
                                            : 'bg-white border-gray-200'}
                                        ${task.done ? 'opacity-50' : 'opacity-100'}
                                    `}
                                >
                                    <button 
                                        onClick={() => toggleTask(task.id)}
                                        className={`min-w-[1.5rem] h-6 rounded-full border-2 mr-4 flex items-center justify-center transition-colors
                                            ${task.done 
                                                ? 'bg-emerald-500 border-emerald-500 text-white' 
                                                : 'border-gray-400 hover:border-indigo-500'}
                                        `}
                                    >
                                        {task.done && <Icons.CheckCircle size={14} />}
                                    </button>
                                    <span className={`flex-1 break-words ${task.done ? 'line-through' : ''}`}>
                                        {task.text}
                                    </span>
                                    <button 
                                        onClick={() => deleteTask(task.id)}
                                        className="text-red-500 hover:bg-red-500/10 p-2 rounded-lg transition-all ml-2"
                                    >
                                        <Icons.Trash2 />
                                    </button>
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            const RelaxZone = () => {
                const [subTab, setSubTab] = useState('breathe');

                const BreathingExercise = () => {
                    const [phase, setPhase] = useState('Inspire');
                    
                    useEffect(() => {
                        const cycle = () => {
                            setPhase('Inspire');
                            setTimeout(() => {
                                setPhase('Segure');
                                setTimeout(() => {
                                    setPhase('Expire');
                                }, 4000);
                            }, 4000);
                        };
                        cycle();
                        const interval = setInterval(cycle, 12000);
                        return () => clearInterval(interval);
                    }, []);

                    return (
                        <div className="flex flex-col items-center justify-center py-8">
                            <div className="relative flex items-center justify-center w-64 h-64 mb-8">
                                <div className={`absolute rounded-full bg-indigo-500/20 transition-all duration-[4000ms] ease-in-out
                                    ${phase === 'Inspire' ? 'w-64 h-64' : phase === 'Segure' ? 'w-64 h-64' : 'w-24 h-24'}
                                `}></div>
                                <div className={`absolute rounded-full bg-indigo-500/40 transition-all duration-[4000ms] ease-in-out
                                    ${phase === 'Inspire' ? 'w-48 h-48' : phase === 'Segure' ? 'w-48 h-48' : 'w-16 h-16'}
                                `}></div>
                                <div className={`absolute rounded-full bg-indigo-500/80 transition-all duration-[4000ms] ease-in-out flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-indigo-500/50
                                    ${phase === 'Inspire' ? 'w-32 h-32' : phase === 'Segure' ? 'w-32 h-32' : 'w-10 h-10 text-[0px]'}
                                `}>
                                    {phase === 'Inspire' || phase === 'Segure' ? phase : ''}
                                </div>
                            </div>
                            <p className="opacity-70 text-center max-w-xs text-lg font-medium">
                                {phase === 'Inspire' && "Encha os pulmões..."}
                                {phase === 'Segure' && "Segure o ar..."}
                                {phase === 'Expire' && "Solte suavemente..."}
                            </p>
                        </div>
                    );
                };

                const BubbleWrap = () => {
                    const [bubbles, setBubbles] = useState(Array(25).fill(false));
                    const pop = (index) => {
                        if (bubbles[index]) return;
                        const newBubbles = [...bubbles];
                        newBubbles[index] = true;
                        setBubbles(newBubbles);
                        if (navigator.vibrate) navigator.vibrate(50);
                    };
                    return (
                        <div className="flex flex-col items-center">
                            <div className="grid grid-cols-5 gap-3 mb-6 p-4 bg-gray-100 dark:bg-gray-800 rounded-xl">
                                {bubbles.map((popped, i) => (
                                    <button key={i} onClick={() => pop(i)}
                                        className={`w-12 h-12 rounded-full shadow-inner transition-all transform duration-100
                                            ${popped ? 'bg-transparent border-2 border-gray-400 scale-90' : 'bg-gradient-to-br from-blue-300 to-blue-500 shadow-lg scale-100 active:scale-95'}
                                        `}
                                    ></button>
                                ))}
                            </div>
                            <button onClick={() => setBubbles(Array(25).fill(false))} className="text-sm text-indigo-400 underline">Reiniciar</button>
                        </div>
                    );
                };

                return (
                    <div className="w-full max-w-md mx-auto animate-fadeIn flex flex-col items-center pt-4">
                        <div className="flex space-x-4 mb-8">
                            <button onClick={() => setSubTab('breathe')} className={`flex items-center space-x-2 px-4 py-2 rounded-full transition-all ${subTab === 'breathe' ? 'bg-indigo-600 text-white' : 'bg-gray-200 dark:bg-gray-800 opacity-60'}`}>
                                <Icons.Wind /> <span>Respirar</span>
                            </button>
                            <button onClick={() => setSubTab('bubble')} className={`flex items-center space-x-2 px-4 py-2 rounded-full transition-all ${subTab === 'bubble' ? 'bg-pink-600 text-white' : 'bg-gray-200 dark:bg-gray-800 opacity-60'}`}>
                                <Icons.Smile /> <span>Relaxar</span>
                            </button>
                        </div>
                        {subTab === 'breathe' ? <BreathingExercise /> : <BubbleWrap />}
                    </div>
                );
            };

            return (
                <div className={`min-h-screen transition-colors duration-300 font-sans overflow-hidden ${darkMode ? 'bg-slate-900 text-gray-100' : 'bg-slate-50 text-gray-900'}`}>
                    <header className="fixed top-0 w-full p-4 flex justify-between items-center z-10 backdrop-blur-md bg-opacity-80 border-b border-gray-200 dark:border-gray-800">
                        <div className="flex items-center space-x-2">
                            <div className="p-2 bg-indigo-600 rounded-lg text-white"><Icons.Layout /></div>
                            <h1 className="font-bold text-xl">ZenOffice</h1>
                        </div>
                        <div className="flex gap-2">
                            {deferredPrompt && (
                                <button onClick={installApp} className="px-3 py-1 bg-emerald-600 text-white text-xs rounded-full animate-pulse">
                                    Instalar App
                                </button>
                            )}
                            <button onClick={toggleTheme} className="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800">
                                {darkMode ? <Icons.Sun /> : <Icons.Moon />}
                            </button>
                        </div>
                    </header>

                    <main className="pt-24 pb-28 px-6 h-screen flex flex-col items-center justify-start overflow-y-auto">
                        {activeTab === 'focus' && <FocusMode />}
                        {activeTab === 'tasks' && <TaskManager />}
                        {activeTab === 'relax' && <RelaxZone />}
                    </main>

                    <div className="fixed bottom-24 w-full flex justify-center pointer-events-none z-30">
                        <button onClick={() => setShowDonation(true)} className="pointer-events-auto bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-5 py-2 rounded-full shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all flex items-center space-x-2 text-sm font-medium">
                            <Icons.Coffee /> <span>Me pague um café</span>
                        </button>
                    </div>

                    <nav className={`fixed bottom-0 w-full p-2 pb-6 border-t transition-colors z-20 ${darkMode ? 'bg-slate-900 border-gray-800' : 'bg-white border-gray-200'}`}>
                        <div className="flex justify-around items-center max-w-md mx-auto">
                            {[
                                { id: 'focus', icon: Icons.Brain, label: 'Foco' },
                                { id: 'tasks', icon: Icons.CheckCircle, label: 'Tarefas' },
                                { id: 'relax', icon: Icons.Wind, label: 'Zen' },
                            ].map((tab) => (
                                <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`flex flex-col items-center p-2 rounded-xl w-20 transition-all duration-300 ${activeTab === tab.id ? 'text-indigo-500 -translate-y-1' : 'text-gray-400 hover:text-gray-500'}`}>
                                    <tab.icon />
                                    <span className={`text-xs mt-1 ${activeTab === tab.id ? 'font-bold' : 'font-normal'}`}>{tab.label}</span>
                                </button>
                            ))}
                        </div>
                    </nav>

                    {showDonation && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn">
                            <div className={`relative w-full max-w-sm p-6 rounded-2xl shadow-2xl ${darkMode ? 'bg-slate-800 text-white' : 'bg-white text-gray-900'}`}>
                                <button onClick={() => setShowDonation(false)} className="absolute top-4 right-4 text-gray-400"><Icons.X /></button>
                                <div className="text-center space-y-4">
                                    <div className="w-16 h-16 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4"><Icons.Coffee /></div>
                                    <h3 className="text-2xl font-bold">Apoie o Projeto!</h3>
                                    <p className="text-sm opacity-80">Se este app te ajudou a evitar o burnout hoje, considere apoiar!</p>
                                    
                                    <div className="bg-white p-4 rounded-xl border-2 border-dashed border-gray-300 my-4 flex flex-col items-center justify-center">
                                        {/* AQUI VAI A IMAGEM DO QR CODE */}
                                        <img src="qr.png" alt="Pix QR Code" className="max-w-[150px] mx-auto" onError={(e) => {e.target.style.display='none'; e.target.nextSibling.style.display='block'}} />
                                        <div style={{display:'none'}} className="text-center"><Icons.QrCode /><p className="text-xs text-gray-400 mt-2">Imagem qr.png não encontrada</p></div>
                                    </div>
                                    
                                    <button className="w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-medium transition-colors">Copiar Chave Pix</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ZenOffice />);
    </script>
    
    <script>
        // Registro do Service Worker para funcionar Offline e instalar
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((reg) => console.log('Service Worker registrado!', reg))
                    .catch((err) => console.log('Falha no SW:', err));
            });
        }
    </script>
</body>
</html>